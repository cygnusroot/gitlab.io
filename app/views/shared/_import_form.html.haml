- ci_cd_only = local_assigns.fetch(:ci_cd_only, false)

.form-group.import-url-data
  = f.label :import_url, class: 'label-light' do
    %span
      = _('Git repository URL')

  = f.text_field :import_url, autocomplete: 'off', class: 'form-control', placeholder: 'https://username:password@gitlab.company.com/group/project.git', required: true

  .well.prepend-top-20
    %ul
      %li
        = _('The repository must be accessible over <code>http://</code>, <code>https://</code> or <code>git://</code>.').html_safe
      %li
        = _('If your HTTP repository is not publicly accessible, add authentication information to the URL: <code>https://username:password@gitlab.company.com/group/project.git</code>.').html_safe
      %li
        - connection_noun = ci_cd_only ? 'connection' : 'import'
        - timeout = time_interval_in_words(Gitlab.config.gitlab_shell.git_timeout)
        = _('The %{connection_noun} will time out after %{timeout}. For repositories that take longer, use a clone/push combination.') % { connection_noun: connection_noun, timeout: timeout }
      %li
        - connect_verb = ci_cd_only ? 'connect' : 'migrate'
        - svn_link = link_to _('this document'), help_page_path('user/project/import/svn')
        = _('To %{connect_verb} an SVN repository, check out %{svn_link}.').html_safe % { connect_verb: connect_verb, svn_link: svn_link }
      %li
        The Git LFS objects will be ignored.
      - unless ci_cd_only
        %li
          - ssh_link = link_to _('here'), help_page_path('/workflow/repository_mirroring.md', anchor: 'ssh-authentication')
          = ('Once imported, repositories can be mirrored over SSH. Read more %{ssh_link}').html_safe % { ssh_link: ssh_link }

-# EE-specific start
- unless ci_cd_only
  = render 'shared/ee/import_form', f: f
-# EE-specific end
